<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kalp Sürprizi</title>
  <style>
    :root {
      --bg1: #0f1117;
      --bg2: #10131a;
      --text: #f7f7fb;
    }
    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      background: radial-gradient(ellipse at center, var(--bg2) 0%, var(--bg1) 60%);
      font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      color: var(--text);
      overflow: hidden;
      user-select: none;
      cursor: pointer;
    }

    .hint {
      position: fixed; left: 12px; top: 12px;
      font-size: 13px; color: #a7b1c4;
      background: rgba(20,24,36,0.6);
      padding: 8px 10px; border: 1px solid #283047; border-radius: 8px;
      backdrop-filter: blur(4px);
      z-index: 1;
    }

    /* Kalp şekli: bir kare ve iki daire ile (CSS) */
    .heart {
      position: fixed;
      width: var(--size, 28px);
      height: var(--size, 28px);
      transform: translate(-50%, -50%) rotate(-45deg);
      animation: float 1200ms ease-out forwards;
      pointer-events: none;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,0.25));
      z-index: 0;
    }
    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      width: 100%;
      height: 100%;
      background: var(--color, #ff5c8a);
      border-radius: 50%;
    }
    .heart::before {
      top: -50%;
      left: 0;
    }
    .heart::after {
      left: 50%;
      top: 0;
    }
    .heart > i {
      position: absolute;
      width: 100%;
      height: 100%;
      background: var(--color, #ff5c8a);
      border-radius: 4px;
    }

    @keyframes float {
      0%   { opacity: 0; transform: translate(-50%, -50%) rotate(-45deg) scale(0.6); }
      10%  { opacity: 1; }
      60%  { transform: translate(calc(-50% + var(--dx, 0px)), calc(-50% + var(--dy, -20px))) rotate(-45deg) scale(1.05); }
      100% { opacity: 0; transform: translate(calc(-50% + var(--dx, 0px)), calc(-50% + var(--dy, -40px))) rotate(-45deg) scale(1); }
    }

    /* Patlama katmanı */
    .overlay {
      position: fixed; inset: 0;
      display: none; align-items: center; justify-content: center;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(2px);
      z-index: 5;
    }
    .overlay.show { display: flex; }

    .big-wrap {
      position: relative;
      width: min(420px, 70vw);
      height: min(420px, 70vw);
      display: grid;
      place-items: center;
    }

    .big-heart {
      position: absolute;
      width: 55%;
      height: 55%;
      transform: translate(-50%, -50%) rotate(-45deg);
      left: 50%; top: 45%;
      filter: drop-shadow(0 10px 16px rgba(0,0,0,0.35));
      animation: boom 900ms cubic-bezier(.2,.8,.2,1) forwards;
    }
    .big-heart::before,
    .big-heart::after {
      content: "";
      position: absolute; width: 100%; height: 100%;
      background: linear-gradient(135deg,#ff4d6d,#ff8fa3);
      border-radius: 50%;
    }
    .big-heart::before { top: -50%; left: 0; }
    .big-heart::after  { left: 50%; top: 0; }
    .big-heart > i {
      position: absolute; width: 100%; height: 100%;
      background: linear-gradient(135deg,#ff4d6d,#ff8fa3);
      border-radius: 6px;
    }

    @keyframes boom {
      0%   { transform: translate(-50%, -50%) rotate(-45deg) scale(0.4); opacity: 0; }
      30%  { opacity: 1; }
      100% { transform: translate(-50%, -50%) rotate(-45deg) scale(1); opacity: 1; }
    }

    .text {
      position: absolute;
      bottom: 8%;
      width: 100%;
      text-align: center;
      font-weight: 800;
      font-size: clamp(18px, 5vw, 34px);
      letter-spacing: 0.5px;
      color: #fff;
      text-shadow: 0 2px 10px rgba(0,0,0,0.4);
      opacity: 0;
      animation: showText 900ms 500ms ease-out forwards;
    }
    @keyframes showText {
      to { opacity: 1; transform: translateY(-2px); }
    }

    /* Parçacık kalpler */
    .particle {
      position: absolute;
      width: 18px; height: 18px;
      transform: translate(-50%, -50%) rotate(-45deg);
      animation: burst 900ms ease-out forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,0.25));
    }
    .particle::before,
    .particle::after,
    .particle > i {
      content: "";
      position: absolute;
      width: 100%; height: 100%;
      background: var(--color, #ff6b6b);
      border-radius: 50%;
    }
    .particle::after { left: 50%; top: 0; }
    .particle > i { border-radius: 4px; }

    @keyframes burst {
      0%   { opacity: 0; transform: translate(-50%, -50%) rotate(-45deg) scale(0.4); }
      10%  { opacity: 1; }
      100% {
        opacity: 0;
        transform:
          translate(calc(-50% + var(--bx)), calc(-50% + var(--by)))
          rotate(-45deg) scale(1);
      }
    }
  </style>
</head>
<body>
  <div class="hint">Tıkla veya dokun: kalpler çıksın. 10. tıklamada sürpriz ✨</div>

  <div class="overlay" id="overlay">
    <div class="big-wrap">
      <div class="big-heart"><i></i></div>
      <div class="text">seni seviyorum</div>
    </div>
  </div>

  <script>
    const colors = ['#ff5c8a','#ff6b6b','#ff8a65','#ba68c8','#64b5f6','#81c784','#ffd54f','#f06292'];
    let clickCount = 0;
    let overlayShown = false;

    function rand(min, max) { return min + Math.random() * (max - min); }
    function pick(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

    function spawnHeart(x, y) {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.style.left = x + 'px';
      heart.style.top  = y + 'px';
      heart.style.setProperty('--size', Math.round(rand(22, 42)) + 'px');
      heart.style.setProperty('--color', pick(colors));
      heart.style.setProperty('--dx', Math.round(rand(-20, 20)) + 'px');
      heart.style.setProperty('--dy', Math.round(rand(-30, -10)) + 'px');

      const core = document.createElement('i');
      heart.appendChild(core);

      document.body.appendChild(heart);
      heart.addEventListener('animationend', () => heart.remove());
      setTimeout(() => heart.remove(), 1600);
    }

    function burstParticles(centerX, centerY, count = 28) {
      for (let i = 0; i < count; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.style.left = centerX + 'px';
        p.style.top  = centerY + 'px';
        const angle = rand(0, Math.PI * 2);
        const dist = rand(60, 160);
        const bx = Math.cos(angle) * dist;
        const by = Math.sin(angle) * dist;
        p.style.setProperty('--bx', Math.round(bx) + 'px');
        p.style.setProperty('--by', Math.round(by) + 'px');
        p.style.setProperty('--color', pick(colors));
        const core = document.createElement('i');
        p.appendChild(core);
        document.body.appendChild(p);
        p.addEventListener('animationend', () => p.remove());
        setTimeout(() => p.remove(), 1100);
      }
    }

    function showOverlay() {
      if (overlayShown) return;
      overlayShown = true;
      const ov = document.getElementById('overlay');
      ov.classList.add('show');

      // Patlama parçacıkları (merkez ekran)
      const cx = innerWidth / 2;
      const cy = innerHeight / 2;
      burstParticles(cx, cy, 34);

      // İpucuyu kaldır
      const hint = document.querySelector('.hint'); hint && hint.remove();

      // Bir süre sonra overlay kapansın ve sayaç sıfırlansın
      setTimeout(() => {
        ov.classList.remove('show');
        overlayShown = false;
        clickCount = 0;
      }, 2200);
    }

    // Tıklama/dokunma
    document.addEventListener('pointerdown', (ev) => {
      const x = ev.clientX, y = ev.clientY;
      spawnHeart(x, y);
      clickCount++;

      if (clickCount === 10) {
        showOverlay();
      }
    });

    // İlk ipucuyu kaldır
    setTimeout(() => {
      const hint = document.querySelector('.hint');
      hint && hint.remove();
    }, 3000);
  </script>
</body>
</html>
